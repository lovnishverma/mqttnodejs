<!DOCTYPE html>
<html>
<head>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
  <style>
    /* Add your custom styles here */
  </style>
  <!-- ... (other head content) ... -->
</head>
<body>
  <div class="container">
    <h6 class="text-center mt-4">Historical Data</h6>
    <div class="table-responsive">
      <table class="table table-striped mt-2">
        <thead>
          <tr>
            <th>Date</th>
            <th>Time</th>
            <th>Command</th>
            <th>Status</th>
          </tr>
        </thead>
        <tbody>
          <% rows.forEach(function(row) { %>
            <tr>
              <td><%= row.date %></td>
              <td><%= row.time %></td>
              <td><%= row.command %></td>
              <td><%= row.status %></td>
            </tr>
          <% }); %>
        </tbody>
      </table>
    </div>
  </div>

 <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/4.1.3/socket.io.js"></script>

    
    <script>
  // Fetch and display historical data
  $(document).ready(function() {
    const socket = io();

    socket.on('connect', function() {
      console.log('Socket connected');
    });

    socket.on('newEntry', function(entry) {
      console.log('New entry received:', entry);
      const newRow = $('<tr>');
      newRow.append($('<td>').text(entry.date));
      newRow.append($('<td>').text(entry.time));
      newRow.append($('<td>').text(entry.command));
      newRow.append($('<td>').text(entry.status));
      $('tbody').prepend(newRow);
    });

    socket.on('disconnect', function() {
      console.log('Socket disconnected');
    });
  });
</script>

</body>
</html>
